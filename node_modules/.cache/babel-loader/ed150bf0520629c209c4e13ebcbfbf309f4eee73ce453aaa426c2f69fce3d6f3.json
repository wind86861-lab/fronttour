{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{toursAPI}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ManageTours=()=>{var _contextMenu$tour,_contextMenu$tour2,_contextMenu$tour3;const[tours,setTours]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[contextMenu,setContextMenu]=useState({visible:false,x:0,y:0,tour:null});const[showDiscountModal,setShowDiscountModal]=useState(false);const[discountForm,setDiscountForm]=useState({type:'none',value:0});useEffect(()=>{const handleClickOutside=()=>setContextMenu({...contextMenu,visible:false});window.addEventListener('click',handleClickOutside);return()=>window.removeEventListener('click',handleClickOutside);},[contextMenu]);useEffect(()=>{fetchTours();},[]);const fetchTours=async()=>{try{setLoading(true);const data=await toursAPI.getAll('');setTours(data);}catch(err){setError(err.message||'Failed to load tours');}finally{setLoading(false);}};const deleteTour=async id=>{if(window.confirm('Are you sure you want to delete this tour?')){try{await toursAPI.delete(id);setTours(tours.filter(t=>t._id!==id));}catch(err){alert('Failed to delete: '+err.message);}}};const formatDate=dateString=>{if(!dateString)return null;return new Date(dateString).toLocaleDateString('uz-UZ',{month:'short',day:'numeric',year:'numeric'});};const handleContextMenu=(e,tour)=>{e.preventDefault();setContextMenu({visible:true,x:e.pageX,y:e.pageY,tour:tour});};const toggleStatus=async(tour,field)=>{try{const updatedTour=await toursAPI.update(tour._id,{[field]:!tour[field]});setTours(tours.map(t=>t._id===tour._id?updatedTour:t));}catch(err){alert('Failed to update: '+err.message);}};const handleDiscountSubmit=async e=>{e.preventDefault();try{const updatedTour=await toursAPI.update(contextMenu.tour._id,{discountType:discountForm.type,discountValue:parseFloat(discountForm.value)||0});setTours(tours.map(t=>t._id===contextMenu.tour._id?updatedTour:t));setShowDiscountModal(false);}catch(err){alert('Failed to set discount: '+err.message);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"fw-bold m-0\",children:\"Manage Tours\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted small\",children:\"View and edit your published travel packages\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/admin/tours/create\",className:\"btn btn-primary rounded-pill px-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus-circle me-2\"}),\"Create New Tour\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card border-0 shadow-sm p-4 rounded-4 bg-white\",children:[error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-exclamation-circle me-2\"}),error]}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Loading tours...\"})]}):tours.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-folder-open fs-1 text-muted mb-3\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"fw-bold\",children:\"No Tours Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Create your first tour to get started!\"}),/*#__PURE__*/_jsxs(Link,{to:\"/admin/tours/create\",className:\"btn btn-primary rounded-pill px-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus me-2\"}),\"Create Tour\"]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group input-group-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text bg-light border-0\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-search text-muted\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control bg-light border-0 shadow-none\",placeholder:\"Search by destination...\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 text-end\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group btn-group-sm bg-light p-1 rounded-pill\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary rounded-pill px-3 shadow-none border-0\",children:\"All\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-light rounded-pill px-3 shadow-none border-0\",children:\"Active\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-light rounded-pill px-3 shadow-none border-0\",children:\"B2B Only\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover align-middle\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"small text-muted\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"TOUR & ROUTE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CHANNEL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PACKAGE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PRICE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"SPOTS\"}),/*#__PURE__*/_jsx(\"th\",{children:\"STATUS\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-end\",children:\"ACTIONS\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tours.map(tour=>{var _tour$images;return/*#__PURE__*/_jsxs(\"tr\",{onContextMenu:e=>handleContextMenu(e,tour),className:\"context-menu-row\",children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded overflow-hidden me-3\",style:{width:'50px',height:'50px'},children:/*#__PURE__*/_jsx(\"img\",{src:(_tour$images=tour.images)!==null&&_tour$images!==void 0&&_tour$images[0]?tour.images[0].startsWith('http')?tour.images[0]:\"http://localhost:5000\".concat(tour.images[0]):'/assets/img/package-1.jpg',alt:\"\",className:\"w-100 h-100\",style:{objectFit:'cover'}})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"d-block fw-bold small\",children:tour.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-1 mt-1\",children:[tour.isPopular&&/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-danger x-small\",children:\"Mashhur\"}),tour.isGreatPackage&&/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-success x-small\",children:\"Ajoyib\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"x-small text-muted\",children:[tour.fromCity,\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-long-arrow-alt-right mx-1\"}),\" \",tour.toCity]}),tour.startDate&&/*#__PURE__*/_jsxs(\"span\",{className:\"d-block x-small text-primary mt-1 fw-bold\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-calendar-alt me-1\"}),\" \",formatDate(tour.startDate)]})]})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge x-small \".concat(tour.tourType==='B2B'?'bg-warning text-dark border border-warning':'bg-info text-white border border-info'),children:tour.tourType})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"small fw-medium\",children:tour.packageType})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"small fw-bold \".concat(tour.discountType!=='none'?'text-decoration-line-through text-muted':'text-primary'),children:[\"$\",tour.priceAdult]}),tour.discountType!=='none'&&/*#__PURE__*/_jsxs(\"span\",{className:\"small fw-bold text-danger\",children:[\"$\",tour.discountType==='percentage'?(tour.priceAdult*(1-tour.discountValue/100)).toFixed(0):tour.priceAdult-tour.discountValue,/*#__PURE__*/_jsxs(\"span\",{className:\"x-small ms-1\",children:[\"(-\",tour.discountType==='percentage'?\"\".concat(tour.discountValue,\"%\"):\"$\".concat(tour.discountValue),\")\"]})]})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"small\",children:[tour.availableSpots||tour.capacity,\" Available\"]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check form-switch p-0 d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input ms-0 me-2\",type:\"checkbox\",checked:tour.status==='Active',readOnly:true}),/*#__PURE__*/_jsx(\"span\",{className:\"x-small fw-bold \".concat(tour.status==='Active'?'text-success':'text-danger'),children:tour.status})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-end\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-end gap-1\",children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/tours/\".concat(tour.tourType==='B2B'?'edit-b2b':'edit',\"/\").concat(tour._id),className:\"btn btn-sm btn-light rounded-circle shadow-none\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-edit text-primary\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-light rounded-circle shadow-none\",onClick:()=>deleteTour(tour._id),children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash text-danger\"})})]})})]},tour._id);})})]})})]})]}),contextMenu.visible&&/*#__PURE__*/_jsxs(\"div\",{className:\"position-fixed bg-white shadow rounded-3 border py-2 context-menu\",style:{top:contextMenu.y,left:contextMenu.x,zIndex:1000,minWidth:'180px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-1 x-small fw-bold text-muted text-uppercase mb-1 border-bottom\",children:[\"Actions: \",(_contextMenu$tour=contextMenu.tour)===null||_contextMenu$tour===void 0?void 0:_contextMenu$tour.title]}),/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item py-2 x-small\",onClick:()=>toggleStatus(contextMenu.tour,'isPopular'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa \".concat(contextMenu.tour.isPopular?'fa-star text-warning':'fa-star-o',\" me-2\")}),contextMenu.tour.isPopular?'Remove Popular':'Mark as Popular']}),/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item py-2 x-small\",onClick:()=>toggleStatus(contextMenu.tour,'isGreatPackage'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa \".concat(contextMenu.tour.isGreatPackage?'fa-check-circle text-success':'fa-circle-o',\" me-2\")}),contextMenu.tour.isGreatPackage?'Remove Ajoyib':'Mark as Ajoyib']}),/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item py-2 x-small\",onClick:()=>{setDiscountForm({type:contextMenu.tour.discountType||'none',value:contextMenu.tour.discountValue||0});setShowDiscountModal(true);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-tag text-danger me-2\"}),\"Manage Discount\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-divider\"}),/*#__PURE__*/_jsxs(Link,{to:\"/admin/tours/\".concat(((_contextMenu$tour2=contextMenu.tour)===null||_contextMenu$tour2===void 0?void 0:_contextMenu$tour2.tourType)==='B2B'?'edit-b2b':'edit',\"/\").concat((_contextMenu$tour3=contextMenu.tour)===null||_contextMenu$tour3===void 0?void 0:_contextMenu$tour3._id),className:\"dropdown-item py-2 x-small\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-edit text-primary me-2\"}),\"Edit Tour\"]})]}),showDiscountModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal fade show d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered modal-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 shadow-lg rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"fw-bold m-0\",children:\"Discount Settings\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close small shadow-none\",onClick:()=>setShowDiscountModal(false)})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleDiscountSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body py-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label x-small fw-bold text-muted\",children:\"Discount Type\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-sm\",value:discountForm.type,onChange:e=>setDiscountForm({...discountForm,type:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"none\",children:\"No Discount\"}),/*#__PURE__*/_jsx(\"option\",{value:\"percentage\",children:\"Percentage (%)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fixed\",children:\"Fixed Amount ($)\"})]})]}),discountForm.type!=='none'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label x-small fw-bold text-muted\",children:discountForm.type==='percentage'?'Percentage Off (%)':'Amount Off ($)'}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control form-control-sm\",value:discountForm.value,onChange:e=>setDiscountForm({...discountForm,value:e.target.value}),min:\"0\",max:discountForm.type==='percentage'?\"100\":undefined,required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer border-0 pt-0\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-sm btn-light rounded-pill px-3\",onClick:()=>setShowDiscountModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-sm btn-primary rounded-pill px-3\",children:\"Save Changes\"})]})]})]})})}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n                .x-small { font-size: 11px; }\\n                .bg-primary-subtle { background-color: #e0f2f1 !important; }\\n                .context-menu-row:hover { cursor: context-menu; }\\n                .context-menu { border-color: #eee !important; animation: fadeIn 0.1s ease-out; }\\n                .dropdown-item:hover { background-color: #f8f9fa; }\\n                @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }\\n            \"})]});};export default ManageTours;","map":{"version":3,"names":["React","useState","useEffect","Link","toursAPI","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ManageTours","_contextMenu$tour","_contextMenu$tour2","_contextMenu$tour3","tours","setTours","loading","setLoading","error","setError","contextMenu","setContextMenu","visible","x","y","tour","showDiscountModal","setShowDiscountModal","discountForm","setDiscountForm","type","value","handleClickOutside","window","addEventListener","removeEventListener","fetchTours","data","getAll","err","message","deleteTour","id","confirm","delete","filter","t","_id","alert","formatDate","dateString","Date","toLocaleDateString","month","day","year","handleContextMenu","e","preventDefault","pageX","pageY","toggleStatus","field","updatedTour","update","map","handleDiscountSubmit","discountType","discountValue","parseFloat","children","className","to","length","placeholder","_tour$images","onContextMenu","style","width","height","src","images","startsWith","concat","alt","objectFit","title","isPopular","isGreatPackage","fromCity","toCity","startDate","tourType","packageType","priceAdult","toFixed","availableSpots","capacity","checked","status","readOnly","onClick","top","left","zIndex","minWidth","backgroundColor","onSubmit","onChange","target","min","max","undefined","required"],"sources":["/home/user/Desktop/code/demofront/frontend/src/pages/Admin/ManageTours.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { toursAPI } from '../../services/api';\n\nconst ManageTours = () => {\n    const [tours, setTours] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState('');\n    const [contextMenu, setContextMenu] = useState({ visible: false, x: 0, y: 0, tour: null });\n    const [showDiscountModal, setShowDiscountModal] = useState(false);\n    const [discountForm, setDiscountForm] = useState({ type: 'none', value: 0 });\n\n    useEffect(() => {\n        const handleClickOutside = () => setContextMenu({ ...contextMenu, visible: false });\n        window.addEventListener('click', handleClickOutside);\n        return () => window.removeEventListener('click', handleClickOutside);\n    }, [contextMenu]);\n\n    useEffect(() => {\n        fetchTours();\n    }, []);\n\n    const fetchTours = async () => {\n        try {\n            setLoading(true);\n            const data = await toursAPI.getAll('');\n            setTours(data);\n        } catch (err) {\n            setError(err.message || 'Failed to load tours');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const deleteTour = async (id) => {\n        if (window.confirm('Are you sure you want to delete this tour?')) {\n            try {\n                await toursAPI.delete(id);\n                setTours(tours.filter(t => t._id !== id));\n            } catch (err) {\n                alert('Failed to delete: ' + err.message);\n            }\n        }\n    };\n\n    const formatDate = (dateString) => {\n        if (!dateString) return null;\n        return new Date(dateString).toLocaleDateString('uz-UZ', {\n            month: 'short',\n            day: 'numeric',\n            year: 'numeric'\n        });\n    };\n\n    const handleContextMenu = (e, tour) => {\n        e.preventDefault();\n        setContextMenu({\n            visible: true,\n            x: e.pageX,\n            y: e.pageY,\n            tour: tour\n        });\n    };\n\n    const toggleStatus = async (tour, field) => {\n        try {\n            const updatedTour = await toursAPI.update(tour._id, {\n                [field]: !tour[field]\n            });\n            setTours(tours.map(t => t._id === tour._id ? updatedTour : t));\n        } catch (err) {\n            alert('Failed to update: ' + err.message);\n        }\n    };\n\n    const handleDiscountSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            const updatedTour = await toursAPI.update(contextMenu.tour._id, {\n                discountType: discountForm.type,\n                discountValue: parseFloat(discountForm.value) || 0\n            });\n            setTours(tours.map(t => t._id === contextMenu.tour._id ? updatedTour : t));\n            setShowDiscountModal(false);\n        } catch (err) {\n            alert('Failed to set discount: ' + err.message);\n        }\n    };\n\n    return (\n        <div>\n            <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                <div>\n                    <h3 className=\"fw-bold m-0\">Manage Tours</h3>\n                    <p className=\"text-muted small\">View and edit your published travel packages</p>\n                </div>\n                <Link to=\"/admin/tours/create\" className=\"btn btn-primary rounded-pill px-4 shadow-sm\">\n                    <i className=\"fa fa-plus-circle me-2\"></i>Create New Tour\n                </Link>\n            </div>\n\n            <div className=\"card border-0 shadow-sm p-4 rounded-4 bg-white\">\n                {error && (\n                    <div className=\"alert alert-danger\">\n                        <i className=\"fa fa-exclamation-circle me-2\"></i>{error}\n                    </div>\n                )}\n\n                {loading ? (\n                    <div className=\"text-center py-5\">\n                        <div className=\"spinner-border text-primary mb-3\"></div>\n                        <p className=\"text-muted\">Loading tours...</p>\n                    </div>\n                ) : tours.length === 0 ? (\n                    <div className=\"text-center py-5\">\n                        <i className=\"fa fa-folder-open fs-1 text-muted mb-3\"></i>\n                        <h5 className=\"fw-bold\">No Tours Found</h5>\n                        <p className=\"text-muted\">Create your first tour to get started!</p>\n                        <Link to=\"/admin/tours/create\" className=\"btn btn-primary rounded-pill px-4\">\n                            <i className=\"fa fa-plus me-2\"></i>Create Tour\n                        </Link>\n                    </div>\n                ) : (\n                    <>\n                        <div className=\"row g-3 mb-4\">\n                            <div className=\"col-md-4\">\n                                <div className=\"input-group input-group-sm\">\n                                    <span className=\"input-group-text bg-light border-0\"><i className=\"fa fa-search text-muted\"></i></span>\n                                    <input type=\"text\" className=\"form-control bg-light border-0 shadow-none\" placeholder=\"Search by destination...\" />\n                                </div>\n                            </div>\n                            <div className=\"col-md-8 text-end\">\n                                <div className=\"btn-group btn-group-sm bg-light p-1 rounded-pill\">\n                                    <button className=\"btn btn-primary rounded-pill px-3 shadow-none border-0\">All</button>\n                                    <button className=\"btn btn-light rounded-pill px-3 shadow-none border-0\">Active</button>\n                                    <button className=\"btn btn-light rounded-pill px-3 shadow-none border-0\">B2B Only</button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"table-responsive\">\n                            <table className=\"table table-hover align-middle\">\n                                <thead className=\"table-light\">\n                                    <tr className=\"small text-muted\">\n                                        <th>TOUR & ROUTE</th>\n                                        <th>CHANNEL</th>\n                                        <th>PACKAGE</th>\n                                        <th>PRICE</th>\n                                        <th>SPOTS</th>\n                                        <th>STATUS</th>\n                                        <th className=\"text-end\">ACTIONS</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {tours.map(tour => (\n                                        <tr\n                                            key={tour._id}\n                                            onContextMenu={(e) => handleContextMenu(e, tour)}\n                                            className=\"context-menu-row\"\n                                        >\n                                            <td>\n                                                <div className=\"d-flex align-items-center\">\n                                                    <div className=\"rounded overflow-hidden me-3\" style={{ width: '50px', height: '50px' }}>\n                                                        <img\n                                                            src={tour.images?.[0] ? (tour.images[0].startsWith('http') ? tour.images[0] : `http://localhost:5000${tour.images[0]}`) : '/assets/img/package-1.jpg'}\n                                                            alt=\"\"\n                                                            className=\"w-100 h-100\"\n                                                            style={{ objectFit: 'cover' }}\n                                                        />\n                                                    </div>\n                                                    <div>\n                                                        <span className=\"d-block fw-bold small\">{tour.title}</span>\n                                                        <div className=\"d-flex gap-1 mt-1\">\n                                                            {tour.isPopular && <span className=\"badge bg-danger x-small\">Mashhur</span>}\n                                                            {tour.isGreatPackage && <span className=\"badge bg-success x-small\">Ajoyib</span>}\n                                                        </div>\n                                                        <span className=\"x-small text-muted\">{tour.fromCity} <i className=\"fa fa-long-arrow-alt-right mx-1\"></i> {tour.toCity}</span>\n                                                        {tour.startDate && <span className=\"d-block x-small text-primary mt-1 fw-bold\"><i className=\"fa fa-calendar-alt me-1\"></i> {formatDate(tour.startDate)}</span>}\n                                                    </div>\n                                                </div>\n                                            </td>\n                                            <td>\n                                                <span className={`badge x-small ${tour.tourType === 'B2B' ? 'bg-warning text-dark border border-warning' : 'bg-info text-white border border-info'}`}>\n                                                    {tour.tourType}\n                                                </span>\n                                            </td>\n                                            <td>\n                                                <span className=\"small fw-medium\">{tour.packageType}</span>\n                                            </td>\n                                            <td>\n                                                <div className=\"d-flex flex-column\">\n                                                    <span className={`small fw-bold ${tour.discountType !== 'none' ? 'text-decoration-line-through text-muted' : 'text-primary'}`}>\n                                                        ${tour.priceAdult}\n                                                    </span>\n                                                    {tour.discountType !== 'none' && (\n                                                        <span className=\"small fw-bold text-danger\">\n                                                            ${tour.discountType === 'percentage'\n                                                                ? (tour.priceAdult * (1 - tour.discountValue / 100)).toFixed(0)\n                                                                : tour.priceAdult - tour.discountValue}\n                                                            <span className=\"x-small ms-1\">(-{tour.discountType === 'percentage' ? `${tour.discountValue}%` : `$${tour.discountValue}`})</span>\n                                                        </span>\n                                                    )}\n                                                </div>\n                                            </td>\n                                            <td>\n                                                <span className=\"small\">{tour.availableSpots || tour.capacity} Available</span>\n                                            </td>\n                                            <td>\n                                                <div className=\"form-check form-switch p-0 d-flex align-items-center\">\n                                                    <input className=\"form-check-input ms-0 me-2\" type=\"checkbox\" checked={tour.status === 'Active'} readOnly />\n                                                    <span className={`x-small fw-bold ${tour.status === 'Active' ? 'text-success' : 'text-danger'}`}>{tour.status}</span>\n                                                </div>\n                                            </td>\n                                            <td className=\"text-end\">\n                                                <div className=\"d-flex justify-content-end gap-1\">\n                                                    <Link to={`/admin/tours/${tour.tourType === 'B2B' ? 'edit-b2b' : 'edit'}/${tour._id}`} className=\"btn btn-sm btn-light rounded-circle shadow-none\">\n                                                        <i className=\"fa fa-edit text-primary\"></i>\n                                                    </Link>\n                                                    <button className=\"btn btn-sm btn-light rounded-circle shadow-none\" onClick={() => deleteTour(tour._id)}>\n                                                        <i className=\"fa fa-trash text-danger\"></i>\n                                                    </button>\n                                                </div>\n                                            </td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        </div>\n                    </>\n                )}\n            </div>\n\n            {/* Context Menu */}\n            {contextMenu.visible && (\n                <div\n                    className=\"position-fixed bg-white shadow rounded-3 border py-2 context-menu\"\n                    style={{ top: contextMenu.y, left: contextMenu.x, zIndex: 1000, minWidth: '180px' }}\n                >\n                    <div className=\"px-3 py-1 x-small fw-bold text-muted text-uppercase mb-1 border-bottom\">Actions: {contextMenu.tour?.title}</div>\n                    <button className=\"dropdown-item py-2 x-small\" onClick={() => toggleStatus(contextMenu.tour, 'isPopular')}>\n                        <i className={`fa ${contextMenu.tour.isPopular ? 'fa-star text-warning' : 'fa-star-o'} me-2`}></i>\n                        {contextMenu.tour.isPopular ? 'Remove Popular' : 'Mark as Popular'}\n                    </button>\n                    <button className=\"dropdown-item py-2 x-small\" onClick={() => toggleStatus(contextMenu.tour, 'isGreatPackage')}>\n                        <i className={`fa ${contextMenu.tour.isGreatPackage ? 'fa-check-circle text-success' : 'fa-circle-o'} me-2`}></i>\n                        {contextMenu.tour.isGreatPackage ? 'Remove Ajoyib' : 'Mark as Ajoyib'}\n                    </button>\n                    <button className=\"dropdown-item py-2 x-small\" onClick={() => {\n                        setDiscountForm({ type: contextMenu.tour.discountType || 'none', value: contextMenu.tour.discountValue || 0 });\n                        setShowDiscountModal(true);\n                    }}>\n                        <i className=\"fa fa-tag text-danger me-2\"></i>Manage Discount\n                    </button>\n                    <div className=\"dropdown-divider\"></div>\n                    <Link to={`/admin/tours/${contextMenu.tour?.tourType === 'B2B' ? 'edit-b2b' : 'edit'}/${contextMenu.tour?._id}`} className=\"dropdown-item py-2 x-small\">\n                        <i className=\"fa fa-edit text-primary me-2\"></i>Edit Tour\n                    </Link>\n                </div>\n            )}\n\n            {/* Discount Modal */}\n            {showDiscountModal && (\n                <div className=\"modal fade show d-block\" style={{ backgroundColor: 'rgba(0,0,0,0.5)' }}>\n                    <div className=\"modal-dialog modal-dialog-centered modal-sm\">\n                        <div className=\"modal-content border-0 shadow-lg rounded-4\">\n                            <div className=\"modal-header border-0 pb-0\">\n                                <h6 className=\"fw-bold m-0\">Discount Settings</h6>\n                                <button type=\"button\" className=\"btn-close small shadow-none\" onClick={() => setShowDiscountModal(false)}></button>\n                            </div>\n                            <form onSubmit={handleDiscountSubmit}>\n                                <div className=\"modal-body py-3\">\n                                    <div className=\"mb-3\">\n                                        <label className=\"form-label x-small fw-bold text-muted\">Discount Type</label>\n                                        <select\n                                            className=\"form-select form-select-sm\"\n                                            value={discountForm.type}\n                                            onChange={(e) => setDiscountForm({ ...discountForm, type: e.target.value })}\n                                        >\n                                            <option value=\"none\">No Discount</option>\n                                            <option value=\"percentage\">Percentage (%)</option>\n                                            <option value=\"fixed\">Fixed Amount ($)</option>\n                                        </select>\n                                    </div>\n                                    {discountForm.type !== 'none' && (\n                                        <div className=\"mb-3\">\n                                            <label className=\"form-label x-small fw-bold text-muted\">\n                                                {discountForm.type === 'percentage' ? 'Percentage Off (%)' : 'Amount Off ($)'}\n                                            </label>\n                                            <input\n                                                type=\"number\"\n                                                className=\"form-control form-control-sm\"\n                                                value={discountForm.value}\n                                                onChange={(e) => setDiscountForm({ ...discountForm, value: e.target.value })}\n                                                min=\"0\"\n                                                max={discountForm.type === 'percentage' ? \"100\" : undefined}\n                                                required\n                                            />\n                                        </div>\n                                    )}\n                                </div>\n                                <div className=\"modal-footer border-0 pt-0\">\n                                    <button type=\"button\" className=\"btn btn-sm btn-light rounded-pill px-3\" onClick={() => setShowDiscountModal(false)}>Cancel</button>\n                                    <button type=\"submit\" className=\"btn btn-sm btn-primary rounded-pill px-3\">Save Changes</button>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            <style>{`\n                .x-small { font-size: 11px; }\n                .bg-primary-subtle { background-color: #e0f2f1 !important; }\n                .context-menu-row:hover { cursor: context-menu; }\n                .context-menu { border-color: #eee !important; animation: fadeIn 0.1s ease-out; }\n                .dropdown-item:hover { background-color: #f8f9fa; }\n                @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }\n            `}</style>\n        </div>\n    );\n};\n\nexport default ManageTours;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}