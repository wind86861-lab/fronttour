{"ast":null,"code":"const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n// Helper function for API calls\nconst apiCall = async (endpoint, options = {}) => {\n  const token = localStorage.getItem('token');\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      ...(token && {\n        Authorization: `Bearer ${token}`\n      })\n    },\n    ...options\n  };\n  const response = await fetch(`${API_BASE_URL}${endpoint}`, config);\n  const data = await response.json();\n  if (!response.ok) {\n    throw new Error(data.message || 'Something went wrong');\n  }\n  return data;\n};\n\n// Auth API\nexport const authAPI = {\n  login: credentials => apiCall('/auth/login', {\n    method: 'POST',\n    body: JSON.stringify(credentials)\n  }),\n  register: userData => apiCall('/auth/register', {\n    method: 'POST',\n    body: JSON.stringify(userData)\n  }),\n  getProfile: () => apiCall('/auth/me')\n};\n\n// Tours API\nexport const toursAPI = {\n  getAll: (filters = '') => apiCall(`/tours${filters ? `?${filters}` : ''}`),\n  getById: id => apiCall(`/tours/${id}`),\n  create: tourData => apiCall('/tours', {\n    method: 'POST',\n    body: JSON.stringify(tourData)\n  }),\n  update: (id, tourData) => apiCall(`/tours/${id}`, {\n    method: 'PUT',\n    body: JSON.stringify(tourData)\n  }),\n  delete: id => apiCall(`/tours/${id}`, {\n    method: 'DELETE'\n  })\n};\n\n// Bookings API\nexport const bookingsAPI = {\n  create: bookingData => apiCall('/bookings', {\n    method: 'POST',\n    body: JSON.stringify(bookingData)\n  }),\n  getAll: () => apiCall('/bookings'),\n  getMy: () => apiCall('/bookings/my'),\n  getById: id => apiCall(`/bookings/${id}`),\n  updateStatus: (id, status) => apiCall(`/bookings/${id}/status`, {\n    method: 'PATCH',\n    body: JSON.stringify({\n      status\n    })\n  })\n};\n\n// Users API (Admin)\nexport const usersAPI = {\n  getAll: () => apiCall('/users'),\n  getPending: () => apiCall('/users/pending'),\n  approve: id => apiCall(`/users/${id}/approve`, {\n    method: 'PATCH'\n  }),\n  delete: id => apiCall(`/users/${id}`, {\n    method: 'DELETE'\n  })\n};\nexport default {\n  authAPI,\n  toursAPI,\n  bookingsAPI,\n  usersAPI\n};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","apiCall","endpoint","options","token","localStorage","getItem","config","headers","Authorization","response","fetch","data","json","ok","Error","message","authAPI","login","credentials","method","body","JSON","stringify","register","userData","getProfile","toursAPI","getAll","filters","getById","id","create","tourData","update","delete","bookingsAPI","bookingData","getMy","updateStatus","status","usersAPI","getPending","approve"],"sources":["/home/user/Desktop/code/travel/frontend/src/services/api.js"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n// Helper function for API calls\nconst apiCall = async (endpoint, options = {}) => {\n    const token = localStorage.getItem('token');\n\n    const config = {\n        headers: {\n            'Content-Type': 'application/json',\n            ...(token && { Authorization: `Bearer ${token}` })\n        },\n        ...options\n    };\n\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, config);\n    const data = await response.json();\n\n    if (!response.ok) {\n        throw new Error(data.message || 'Something went wrong');\n    }\n\n    return data;\n};\n\n// Auth API\nexport const authAPI = {\n    login: (credentials) => apiCall('/auth/login', {\n        method: 'POST',\n        body: JSON.stringify(credentials)\n    }),\n    register: (userData) => apiCall('/auth/register', {\n        method: 'POST',\n        body: JSON.stringify(userData)\n    }),\n    getProfile: () => apiCall('/auth/me')\n};\n\n// Tours API\nexport const toursAPI = {\n    getAll: (filters = '') => apiCall(`/tours${filters ? `?${filters}` : ''}`),\n    getById: (id) => apiCall(`/tours/${id}`),\n    create: (tourData) => apiCall('/tours', {\n        method: 'POST',\n        body: JSON.stringify(tourData)\n    }),\n    update: (id, tourData) => apiCall(`/tours/${id}`, {\n        method: 'PUT',\n        body: JSON.stringify(tourData)\n    }),\n    delete: (id) => apiCall(`/tours/${id}`, {\n        method: 'DELETE'\n    })\n};\n\n// Bookings API\nexport const bookingsAPI = {\n    create: (bookingData) => apiCall('/bookings', {\n        method: 'POST',\n        body: JSON.stringify(bookingData)\n    }),\n    getAll: () => apiCall('/bookings'),\n    getMy: () => apiCall('/bookings/my'),\n    getById: (id) => apiCall(`/bookings/${id}`),\n    updateStatus: (id, status) => apiCall(`/bookings/${id}/status`, {\n        method: 'PATCH',\n        body: JSON.stringify({ status })\n    })\n};\n\n// Users API (Admin)\nexport const usersAPI = {\n    getAll: () => apiCall('/users'),\n    getPending: () => apiCall('/users/pending'),\n    approve: (id) => apiCall(`/users/${id}/approve`, {\n        method: 'PATCH'\n    }),\n    delete: (id) => apiCall(`/users/${id}`, {\n        method: 'DELETE'\n    })\n};\n\nexport default { authAPI, toursAPI, bookingsAPI, usersAPI };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}