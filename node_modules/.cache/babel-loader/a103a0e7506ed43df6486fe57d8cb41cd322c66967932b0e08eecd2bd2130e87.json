{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/code/travel/frontend/src/components/ProtectedRoute.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  children,\n  requireAdmin = false\n}) => {\n  _s();\n  const {\n    isAuthenticated,\n    isAdmin,\n    loading\n  } = useAuth();\n  const location = useLocation();\n\n  // Show loading spinner while checking auth\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-vh-100 d-flex align-items-center justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-border text-primary mb-3\",\n          style: {\n            width: '3rem',\n            height: '3rem'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 14,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted\",\n          children: \"Verifying access...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 13\n    }, this);\n  }\n\n  // Redirect to login if not authenticated\n  if (!isAuthenticated()) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/admin/login\",\n      state: {\n        from: location\n      },\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 16\n    }, this);\n  }\n\n  // Check admin role if required\n  if (requireAdmin && !isAdmin()) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-vh-100 d-flex align-items-center justify-content-center bg-light\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-danger text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3\",\n          style: {\n            width: '80px',\n            height: '80px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-ban fs-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"fw-bold mb-2\",\n          children: \"Access Denied\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted mb-4\",\n          children: \"You don't have admin privileges to access this page.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          className: \"btn btn-primary rounded-pill px-4\",\n          children: \"Go to Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this);\n  }\n  return children;\n};\n_s(ProtectedRoute, \"yEh7LKoC3G0LVVV9gFErT07ugdk=\", false, function () {\n  return [useAuth, useLocation];\n});\n_c = ProtectedRoute;\nexport default ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["React","Navigate","useLocation","useAuth","jsxDEV","_jsxDEV","ProtectedRoute","children","requireAdmin","_s","isAuthenticated","isAdmin","loading","location","className","style","width","height","fileName","_jsxFileName","lineNumber","columnNumber","to","state","from","replace","href","_c","$RefreshReg$"],"sources":["/home/user/Desktop/code/travel/frontend/src/components/ProtectedRoute.jsx"],"sourcesContent":["import React from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\n\nconst ProtectedRoute = ({ children, requireAdmin = false }) => {\n    const { isAuthenticated, isAdmin, loading } = useAuth();\n    const location = useLocation();\n\n    // Show loading spinner while checking auth\n    if (loading) {\n        return (\n            <div className=\"min-vh-100 d-flex align-items-center justify-content-center\">\n                <div className=\"text-center\">\n                    <div className=\"spinner-border text-primary mb-3\" style={{ width: '3rem', height: '3rem' }}></div>\n                    <p className=\"text-muted\">Verifying access...</p>\n                </div>\n            </div>\n        );\n    }\n\n    // Redirect to login if not authenticated\n    if (!isAuthenticated()) {\n        return <Navigate to=\"/admin/login\" state={{ from: location }} replace />;\n    }\n\n    // Check admin role if required\n    if (requireAdmin && !isAdmin()) {\n        return (\n            <div className=\"min-vh-100 d-flex align-items-center justify-content-center bg-light\">\n                <div className=\"text-center\">\n                    <div className=\"bg-danger text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3\" style={{ width: '80px', height: '80px' }}>\n                        <i className=\"fa fa-ban fs-1\"></i>\n                    </div>\n                    <h3 className=\"fw-bold mb-2\">Access Denied</h3>\n                    <p className=\"text-muted mb-4\">You don't have admin privileges to access this page.</p>\n                    <a href=\"/\" className=\"btn btn-primary rounded-pill px-4\">Go to Home</a>\n                </div>\n            </div>\n        );\n    }\n\n    return children;\n};\n\nexport default ProtectedRoute;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}