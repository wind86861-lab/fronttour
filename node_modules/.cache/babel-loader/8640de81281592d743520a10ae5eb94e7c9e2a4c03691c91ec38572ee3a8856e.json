{"ast":null,"code":"import React from'react';import{Navigate,useLocation}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,requireAdmin=false}=_ref;const{isAuthenticated,isAdmin,loading}=useAuth();const location=useLocation();// Show loading spinner while checking auth\nif(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-vh-100 d-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary mb-3\",style:{width:'3rem',height:'3rem'}}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Verifying access...\"})]})});}// Redirect to login if not authenticated\nif(!isAuthenticated()){return/*#__PURE__*/_jsx(Navigate,{to:\"/admin/login\",state:{from:location},replace:true});}// Check admin role if required\nif(requireAdmin&&!isAdmin()){return/*#__PURE__*/_jsx(\"div\",{className:\"min-vh-100 d-flex align-items-center justify-content-center bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-danger text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3\",style:{width:'80px',height:'80px'},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-ban fs-1\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"fw-bold mb-2\",children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-4\",children:\"You don't have admin privileges to access this page.\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"btn btn-primary rounded-pill px-4\",children:\"Go to Home\"})]})});}return children;};export default ProtectedRoute;","map":{"version":3,"names":["React","Navigate","useLocation","useAuth","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","requireAdmin","isAuthenticated","isAdmin","loading","location","className","style","width","height","to","state","from","replace","href"],"sources":["/home/user/Desktop/code/demofront/frontend/src/components/ProtectedRoute.jsx"],"sourcesContent":["import React from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\n\nconst ProtectedRoute = ({ children, requireAdmin = false }) => {\n    const { isAuthenticated, isAdmin, loading } = useAuth();\n    const location = useLocation();\n\n    // Show loading spinner while checking auth\n    if (loading) {\n        return (\n            <div className=\"min-vh-100 d-flex align-items-center justify-content-center\">\n                <div className=\"text-center\">\n                    <div className=\"spinner-border text-primary mb-3\" style={{ width: '3rem', height: '3rem' }}></div>\n                    <p className=\"text-muted\">Verifying access...</p>\n                </div>\n            </div>\n        );\n    }\n\n    // Redirect to login if not authenticated\n    if (!isAuthenticated()) {\n        return <Navigate to=\"/admin/login\" state={{ from: location }} replace />;\n    }\n\n    // Check admin role if required\n    if (requireAdmin && !isAdmin()) {\n        return (\n            <div className=\"min-vh-100 d-flex align-items-center justify-content-center bg-light\">\n                <div className=\"text-center\">\n                    <div className=\"bg-danger text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3\" style={{ width: '80px', height: '80px' }}>\n                        <i className=\"fa fa-ban fs-1\"></i>\n                    </div>\n                    <h3 className=\"fw-bold mb-2\">Access Denied</h3>\n                    <p className=\"text-muted mb-4\">You don't have admin privileges to access this page.</p>\n                    <a href=\"/\" className=\"btn btn-primary rounded-pill px-4\">Go to Home</a>\n                </div>\n            </div>\n        );\n    }\n\n    return children;\n};\n\nexport default ProtectedRoute;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,WAAW,KAAQ,kBAAkB,CACxD,OAASC,OAAO,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjD,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAwC,IAAvC,CAAEC,QAAQ,CAAEC,YAAY,CAAG,KAAM,CAAC,CAAAF,IAAA,CACtD,KAAM,CAAEG,eAAe,CAAEC,OAAO,CAAEC,OAAQ,CAAC,CAAGX,OAAO,CAAC,CAAC,CACvD,KAAM,CAAAY,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9B;AACA,GAAIY,OAAO,CAAE,CACT,mBACIT,IAAA,QAAKW,SAAS,CAAC,6DAA6D,CAAAN,QAAA,cACxEH,KAAA,QAAKS,SAAS,CAAC,aAAa,CAAAN,QAAA,eACxBL,IAAA,QAAKW,SAAS,CAAC,kCAAkC,CAACC,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAO,CAAE,CAAM,CAAC,cAClGd,IAAA,MAAGW,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAC,qBAAmB,CAAG,CAAC,EAChD,CAAC,CACL,CAAC,CAEd,CAEA;AACA,GAAI,CAACE,eAAe,CAAC,CAAC,CAAE,CACpB,mBAAOP,IAAA,CAACJ,QAAQ,EAACmB,EAAE,CAAC,cAAc,CAACC,KAAK,CAAE,CAAEC,IAAI,CAAEP,QAAS,CAAE,CAACQ,OAAO,MAAE,CAAC,CAC5E,CAEA;AACA,GAAIZ,YAAY,EAAI,CAACE,OAAO,CAAC,CAAC,CAAE,CAC5B,mBACIR,IAAA,QAAKW,SAAS,CAAC,sEAAsE,CAAAN,QAAA,cACjFH,KAAA,QAAKS,SAAS,CAAC,aAAa,CAAAN,QAAA,eACxBL,IAAA,QAAKW,SAAS,CAAC,kGAAkG,CAACC,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAO,CAAE,CAAAT,QAAA,cACvJL,IAAA,MAAGW,SAAS,CAAC,gBAAgB,CAAI,CAAC,CACjC,CAAC,cACNX,IAAA,OAAIW,SAAS,CAAC,cAAc,CAAAN,QAAA,CAAC,eAAa,CAAI,CAAC,cAC/CL,IAAA,MAAGW,SAAS,CAAC,iBAAiB,CAAAN,QAAA,CAAC,sDAAoD,CAAG,CAAC,cACvFL,IAAA,MAAGmB,IAAI,CAAC,GAAG,CAACR,SAAS,CAAC,mCAAmC,CAAAN,QAAA,CAAC,YAAU,CAAG,CAAC,EACvE,CAAC,CACL,CAAC,CAEd,CAEA,MAAO,CAAAA,QAAQ,CACnB,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}