{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{toursAPI}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AgentTourList=()=>{const[tours,setTours]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{fetchB2BTours();},[]);const fetchB2BTours=async()=>{try{setLoading(true);const data=await toursAPI.getAll('tourType=B2B&status=Active');setTours(data);}catch(err){setError(err.message||'Failed to load tours');}finally{setLoading(false);}};const calculatePriceRange=tour=>{var _tour$flightVariants,_tour$hotelRoomTypes;if(!((_tour$flightVariants=tour.flightVariants)!==null&&_tour$flightVariants!==void 0&&_tour$flightVariants.length)||!((_tour$hotelRoomTypes=tour.hotelRoomTypes)!==null&&_tour$hotelRoomTypes!==void 0&&_tour$hotelRoomTypes.length)){return null;}const nights=tour.nightsFrom||7;// Min/Max flight prices\nconst outbounds=tour.flightVariants.filter(f=>f.type==='outbound');const returns=tour.flightVariants.filter(f=>f.type==='return');if(!outbounds.length||!returns.length)return null;const minOutbound=Math.min(...outbounds.map(f=>f.price));const maxOutbound=Math.max(...outbounds.map(f=>f.price));const minReturn=Math.min(...returns.map(f=>f.price));const maxReturn=Math.max(...returns.map(f=>f.price));// Min/Max room prices\nconst minRoom=Math.min(...tour.hotelRoomTypes.map(r=>r.pricePerNight));const maxRoom=Math.max(...tour.hotelRoomTypes.map(r=>r.pricePerNight));// Base services total\nconst baseTotal=(tour.baseServices||[]).reduce((sum,s)=>sum+s.fixedCost,0);// Calculate min and max subtotals\nconst minSubtotal=minOutbound+minReturn+minRoom*nights+baseTotal;const maxSubtotal=maxOutbound+maxReturn+maxRoom*nights+baseTotal;// Apply agent markup\nlet minMarkup=0;let maxMarkup=0;if(tour.agentMarkup){if(tour.agentMarkup.type==='FIXED'){minMarkup=tour.agentMarkup.value;maxMarkup=tour.agentMarkup.value;}else if(tour.agentMarkup.type==='PERCENT'){minMarkup=minSubtotal*tour.agentMarkup.value/100;maxMarkup=maxSubtotal*tour.agentMarkup.value/100;}}return{min:Math.round(minSubtotal+minMarkup),max:Math.round(maxSubtotal+maxMarkup)};};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Loading B2B tours...\"})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-exclamation-circle me-2\"}),error]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"fw-bold m-0\",children:\"B2B Tour Packages\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted small mb-0\",children:\"Browse and select tours for your clients\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center gap-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-primary-subtle text-primary px-3 py-2\",children:[tours.length,\" Available Tours\"]})})]}),tours.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"card border-0 shadow-sm rounded-4 p-5 text-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-suitcase-rolling text-muted fs-1 mb-3 opacity-25\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"fw-bold mb-2\",children:\"No B2B Tours Available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Check back later for new tour packages.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"row g-4\",children:tours.map(tour=>{var _tour$images,_tour$flightVariants2,_tour$hotelRoomTypes2;const priceRange=calculatePriceRange(tour);const tourImage=(_tour$images=tour.images)!==null&&_tour$images!==void 0&&_tour$images[0]?tour.images[0].startsWith('http')?tour.images[0]:\"http://localhost:5000\".concat(tour.images[0]):'/assets/img/package-1.jpg';return/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4 col-md-6\",children:/*#__PURE__*/_jsx(Link,{to:\"/agent/tours/\".concat(tour._id),className:\"text-decoration-none\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card border-0 shadow-sm rounded-4 overflow-hidden h-100 hover-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:tourImage,alt:tour.title,className:\"card-img-top\",style:{height:'200px',objectFit:'cover'}}),/*#__PURE__*/_jsx(\"div\",{className:\"position-absolute top-0 end-0 p-3\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-warning text-dark\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-briefcase me-1\"}),\"B2B\"]})}),tour.isPromotion&&/*#__PURE__*/_jsx(\"div\",{className:\"position-absolute top-0 start-0 p-3\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-danger\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-fire me-1\"}),\"Promo\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title fw-bold mb-2\",children:tour.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted small mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-route me-2\"}),tour.fromCity,\" \\u2192 \",tour.toCity]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-3 pb-3 border-bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Nights\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"fw-bold\",children:[tour.nightsFrom,\"-\",tour.nightsTill]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"fw-bold\",children:[tour.category,\"\\u2605\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Meal\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:tour.mealType||'N/A'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-2 mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light rounded-3 p-2 text-center\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block x-small\",children:\"Flight Options\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:((_tour$flightVariants2=tour.flightVariants)===null||_tour$flightVariants2===void 0?void 0:_tour$flightVariants2.length)||0})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light rounded-3 p-2 text-center\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block x-small\",children:\"Room Types\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:((_tour$hotelRoomTypes2=tour.hotelRoomTypes)===null||_tour$hotelRoomTypes2===void 0?void 0:_tour$hotelRoomTypes2.length)||0})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-end\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Price Range\"}),priceRange?/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold text-primary fs-5\",children:[\"$\",priceRange.min,\" - $\",priceRange.max]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-muted small\",children:\"Configure to see price\"}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted x-small\",children:\"per person\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary btn-sm rounded-pill px-3\",children:[\"View Details\",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-arrow-right ms-2\"})]})]})]})]})})},tour._id);})}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n                .hover-card {\\n                    transition: all 0.3s ease;\\n                }\\n                .hover-card:hover {\\n                    transform: translateY(-5px);\\n                    box-shadow: 0 10px 30px rgba(0,0,0,0.1) !important;\\n                }\\n                .text-primary { color: #30c39e !important; }\\n                .bg-primary { background-color: #30c39e !important; }\\n                .bg-primary-subtle { background-color: rgba(48, 195, 158, 0.1) !important; }\\n                .btn-primary { background-color: #30c39e; border-color: #30c39e; }\\n                .btn-primary:hover { background-color: #28a686; border-color: #28a686; }\\n                .x-small { font-size: 11px; }\\n            \"})]});};export default AgentTourList;","map":{"version":3,"names":["React","useEffect","useState","Link","toursAPI","jsx","_jsx","jsxs","_jsxs","AgentTourList","tours","setTours","loading","setLoading","error","setError","fetchB2BTours","data","getAll","err","message","calculatePriceRange","tour","_tour$flightVariants","_tour$hotelRoomTypes","flightVariants","length","hotelRoomTypes","nights","nightsFrom","outbounds","filter","f","type","returns","minOutbound","Math","min","map","price","maxOutbound","max","minReturn","maxReturn","minRoom","r","pricePerNight","maxRoom","baseTotal","baseServices","reduce","sum","s","fixedCost","minSubtotal","maxSubtotal","minMarkup","maxMarkup","agentMarkup","value","round","className","children","_tour$images","_tour$flightVariants2","_tour$hotelRoomTypes2","priceRange","tourImage","images","startsWith","concat","to","_id","src","alt","title","style","height","objectFit","isPromotion","fromCity","toCity","nightsTill","category","mealType"],"sources":["/home/user/Desktop/code/demofront/frontend/src/pages/Agent/AgentTourList.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { toursAPI } from '../../services/api';\n\nconst AgentTourList = () => {\n    const [tours, setTours] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState('');\n\n    useEffect(() => {\n        fetchB2BTours();\n    }, []);\n\n    const fetchB2BTours = async () => {\n        try {\n            setLoading(true);\n            const data = await toursAPI.getAll('tourType=B2B&status=Active');\n            setTours(data);\n        } catch (err) {\n            setError(err.message || 'Failed to load tours');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const calculatePriceRange = (tour) => {\n        if (!tour.flightVariants?.length || !tour.hotelRoomTypes?.length) {\n            return null;\n        }\n\n        const nights = tour.nightsFrom || 7;\n\n        // Min/Max flight prices\n        const outbounds = tour.flightVariants.filter(f => f.type === 'outbound');\n        const returns = tour.flightVariants.filter(f => f.type === 'return');\n\n        if (!outbounds.length || !returns.length) return null;\n\n        const minOutbound = Math.min(...outbounds.map(f => f.price));\n        const maxOutbound = Math.max(...outbounds.map(f => f.price));\n        const minReturn = Math.min(...returns.map(f => f.price));\n        const maxReturn = Math.max(...returns.map(f => f.price));\n\n        // Min/Max room prices\n        const minRoom = Math.min(...tour.hotelRoomTypes.map(r => r.pricePerNight));\n        const maxRoom = Math.max(...tour.hotelRoomTypes.map(r => r.pricePerNight));\n\n        // Base services total\n        const baseTotal = (tour.baseServices || []).reduce((sum, s) => sum + s.fixedCost, 0);\n\n        // Calculate min and max subtotals\n        const minSubtotal = minOutbound + minReturn + (minRoom * nights) + baseTotal;\n        const maxSubtotal = maxOutbound + maxReturn + (maxRoom * nights) + baseTotal;\n\n        // Apply agent markup\n        let minMarkup = 0;\n        let maxMarkup = 0;\n\n        if (tour.agentMarkup) {\n            if (tour.agentMarkup.type === 'FIXED') {\n                minMarkup = tour.agentMarkup.value;\n                maxMarkup = tour.agentMarkup.value;\n            } else if (tour.agentMarkup.type === 'PERCENT') {\n                minMarkup = (minSubtotal * tour.agentMarkup.value) / 100;\n                maxMarkup = (maxSubtotal * tour.agentMarkup.value) / 100;\n            }\n        }\n\n        return {\n            min: Math.round(minSubtotal + minMarkup),\n            max: Math.round(maxSubtotal + maxMarkup)\n        };\n    };\n\n    if (loading) {\n        return (\n            <div className=\"container-fluid p-4\">\n                <div className=\"text-center py-5\">\n                    <div className=\"spinner-border text-primary mb-3\"></div>\n                    <p className=\"text-muted\">Loading B2B tours...</p>\n                </div>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"container-fluid p-4\">\n                <div className=\"alert alert-danger\">\n                    <i className=\"fa fa-exclamation-circle me-2\"></i>{error}\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"container-fluid p-4\">\n            <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                <div>\n                    <h3 className=\"fw-bold m-0\">B2B Tour Packages</h3>\n                    <p className=\"text-muted small mb-0\">Browse and select tours for your clients</p>\n                </div>\n                <div className=\"d-flex align-items-center gap-2\">\n                    <span className=\"badge bg-primary-subtle text-primary px-3 py-2\">\n                        {tours.length} Available Tours\n                    </span>\n                </div>\n            </div>\n\n            {tours.length === 0 ? (\n                <div className=\"card border-0 shadow-sm rounded-4 p-5 text-center\">\n                    <i className=\"fa fa-suitcase-rolling text-muted fs-1 mb-3 opacity-25\"></i>\n                    <h5 className=\"fw-bold mb-2\">No B2B Tours Available</h5>\n                    <p className=\"text-muted\">Check back later for new tour packages.</p>\n                </div>\n            ) : (\n                <div className=\"row g-4\">\n                    {tours.map(tour => {\n                        const priceRange = calculatePriceRange(tour);\n                        const tourImage = tour.images?.[0]\n                            ? (tour.images[0].startsWith('http') ? tour.images[0] : `http://localhost:5000${tour.images[0]}`)\n                            : '/assets/img/package-1.jpg';\n\n                        return (\n                            <div className=\"col-lg-4 col-md-6\" key={tour._id}>\n                                <Link to={`/agent/tours/${tour._id}`} className=\"text-decoration-none\">\n                                    <div className=\"card border-0 shadow-sm rounded-4 overflow-hidden h-100 hover-card\">\n                                        <div className=\"position-relative\">\n                                            <img\n                                                src={tourImage}\n                                                alt={tour.title}\n                                                className=\"card-img-top\"\n                                                style={{ height: '200px', objectFit: 'cover' }}\n                                            />\n                                            <div className=\"position-absolute top-0 end-0 p-3\">\n                                                <span className=\"badge bg-warning text-dark\">\n                                                    <i className=\"fa fa-briefcase me-1\"></i>B2B\n                                                </span>\n                                            </div>\n                                            {tour.isPromotion && (\n                                                <div className=\"position-absolute top-0 start-0 p-3\">\n                                                    <span className=\"badge bg-danger\">\n                                                        <i className=\"fa fa-fire me-1\"></i>Promo\n                                                    </span>\n                                                </div>\n                                            )}\n                                        </div>\n                                        <div className=\"card-body p-4\">\n                                            <h5 className=\"card-title fw-bold mb-2\">{tour.title}</h5>\n                                            <p className=\"text-muted small mb-3\">\n                                                <i className=\"fa fa-route me-2\"></i>\n                                                {tour.fromCity} → {tour.toCity}\n                                            </p>\n\n                                            <div className=\"d-flex justify-content-between align-items-center mb-3 pb-3 border-bottom\">\n                                                <div>\n                                                    <small className=\"text-muted d-block\">Nights</small>\n                                                    <span className=\"fw-bold\">{tour.nightsFrom}-{tour.nightsTill}</span>\n                                                </div>\n                                                <div>\n                                                    <small className=\"text-muted d-block\">Category</small>\n                                                    <span className=\"fw-bold\">{tour.category}★</span>\n                                                </div>\n                                                <div>\n                                                    <small className=\"text-muted d-block\">Meal</small>\n                                                    <span className=\"fw-bold\">{tour.mealType || 'N/A'}</span>\n                                                </div>\n                                            </div>\n\n                                            <div className=\"row g-2 mb-3\">\n                                                <div className=\"col-6\">\n                                                    <div className=\"bg-light rounded-3 p-2 text-center\">\n                                                        <small className=\"text-muted d-block x-small\">Flight Options</small>\n                                                        <span className=\"fw-bold\">{tour.flightVariants?.length || 0}</span>\n                                                    </div>\n                                                </div>\n                                                <div className=\"col-6\">\n                                                    <div className=\"bg-light rounded-3 p-2 text-center\">\n                                                        <small className=\"text-muted d-block x-small\">Room Types</small>\n                                                        <span className=\"fw-bold\">{tour.hotelRoomTypes?.length || 0}</span>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div className=\"d-flex justify-content-between align-items-end\">\n                                                <div>\n                                                    <small className=\"text-muted d-block\">Price Range</small>\n                                                    {priceRange ? (\n                                                        <div className=\"fw-bold text-primary fs-5\">\n                                                            ${priceRange.min} - ${priceRange.max}\n                                                        </div>\n                                                    ) : (\n                                                        <div className=\"text-muted small\">Configure to see price</div>\n                                                    )}\n                                                    <small className=\"text-muted x-small\">per person</small>\n                                                </div>\n                                                <button className=\"btn btn-primary btn-sm rounded-pill px-3\">\n                                                    View Details\n                                                    <i className=\"fa fa-arrow-right ms-2\"></i>\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </Link>\n                            </div>\n                        );\n                    })}\n                </div>\n            )}\n\n            <style>{`\n                .hover-card {\n                    transition: all 0.3s ease;\n                }\n                .hover-card:hover {\n                    transform: translateY(-5px);\n                    box-shadow: 0 10px 30px rgba(0,0,0,0.1) !important;\n                }\n                .text-primary { color: #30c39e !important; }\n                .bg-primary { background-color: #30c39e !important; }\n                .bg-primary-subtle { background-color: rgba(48, 195, 158, 0.1) !important; }\n                .btn-primary { background-color: #30c39e; border-color: #30c39e; }\n                .btn-primary:hover { background-color: #28a686; border-color: #28a686; }\n                .x-small { font-size: 11px; }\n            `}</style>\n        </div>\n    );\n};\n\nexport default AgentTourList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}